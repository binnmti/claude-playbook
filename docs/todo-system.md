# ToDoシステム

シンプルなタスク管理の仕組み。

## コマンド

| コマンド | 説明 |
|---------|------|
| `/todo` | やりたいことを伝えてToDoリストに追加 |
| `/todo-run` | タスクを実行 |
| `/todo-batch` | 全タスクを自走式で実行 |

## ファイル構造（プロジェクトごと）

```
doc/todos/
├── todo.md     ← 普段見るのはここだけ
├── tasks/      ← Claude用詳細
│   └── task-xx/
│       └── plan.md
└── done/       ← 完了タスク
    └── task-xx/
        └── plan.md
```

**done.md は不要**（todo.md の Done セクションで十分）

## タスクの書き方

**基本**: やりたいことをシンプルに1行で書く
**詳細が必要な場合**: 階層（インデント）を使って説明を追加

```markdown
## ToDo
- [ ] 認証機能を追加する              ← シンプルに1行でもOK
- [ ] ログ出力を改善する
  - 現状のログレベルを見直す          ← 詳細が必要なら階層で追加
  - エラーログにスタックトレースを含める
```

**関連するものは1タスクにまとめ**、**関連しないものは別タスクに分ける**。

## 使い方

### 1. ToDoを追加

```
/todo
```
→ 会話でやりたいことを伝える
→ 方向性確認（手作業の有無を含む）
→ todo.md + plan.md が作成される

または、直接 todo.md を編集してもOK。

### 2. タスクを実行

```
/todo-run
```
→ ToDoの先頭から実行
→ Doing に移動して「次にやること」を追記
→ 完了したら Done に移動

### 3. 確認してマージ

```bash
# 変更を確認
git diff main

# マージ
git checkout main && git merge todo/xxx
```

## todo.md の見方

```markdown
## ToDo      ← 未着手
## Doing     ← 進行中（次にやることが書いてある）
## Done      ← 完了
```

**Doing の例:**
```markdown
## Doing
- [ ] ログ出力を改善する
  - 次: @src/logger.ts の LogLevel enum を見直す
  - 次: @src/errorHandler.ts でスタックトレース出力を追加
  - 検証: ビルド成功 + ログにスタックトレースが出力される
```

## 困ったとき

| 状況 | 見る場所 |
|------|---------|
| 何をやればいいか分からない | todo.md の Doing セクション |
| 詳細な実装内容を知りたい | tasks/task-xx/plan.md |

## /plan 系との使い分け

| 用途 | コマンド |
|------|---------|
| 日常的なタスク | `/todo` + `/todo-run` |
| 大規模リファクタ、設計記録を残したい | `/plan` + `/plan-run` |
